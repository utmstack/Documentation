# UTMStack Federation Service Installation Guide

*This guide will walk you through the process of installing the UTMStack Federation Service (UTMStackFS)*

Welcome to the installation page for the Federated Master Deployment of UTMStack! If you're an MSP (Managed Service Provider) with the mission of managing multiple instances of UTMStack across various customer networks, you're in the right place. Our federated master deployment model is meticulously designed to provide a streamlined management experience, presenting a holistic view of activities across multiple clients and organizations.


> **âš ï¸ Warning:** Please note that the installation of the UTMStackFS is an exclusive feature of the Enterprise edition of the software. To access this and other advanced features, we invite you to purchase the Enterprise edition.



> **Note:** For more details contact Customer Service.


## Preparing for Installation


> **Note:** Please refer to the [System Requirements](../Installation/system_requirements#6-federated-server-utmstackfsinstaller) page in the UTMStack documentation for detailed information about the recommended specifications for your environment.


## Linux Installation Guide

Execute the following commands to update the package list and install the required dependencies on your Ubuntu 22.04 LTS system:

``` bash
sudo apt update
sudo apt install wget
```bash

### Step 1: Download the Installer Script

Download the latest version of the UTMStackFS (Federation Service) installer script from the official UTMStack website


> **âš ï¸ Warning:** This feature is available exclusively in the enterprise version of the software.



### Step 2: Grant Execution Permissions

Change to the root user to ensure proper execution of the installer script:

``` bash
sudo su
```

Set execution permissions for the installer script using the following command:

``` bash
chmod +x installer
```bash

### Step 3: Run the Installer

Now, you are ready to run the installer script and begin the installation process.

Execute the installer without parameters:

``` bash
./installer
```

The installer script will take care of downloading the necessary packages.


> **Note:** Please note that the installation process may take some time depending on the system and the options selected.



### Step 4: Configuration of UTMStackFS
After successfully installing UTMStackFS on your servers, it is important to configure the necessary services to ensure proper functionality. This step involves setting up best-practice firewall rulesets to control network traffic effectively. Additionally, you have the option to integrate third-party applications like M365 to enhance UTMStack's capabilities.

This section provides an overview of the required firewall rules for different components of UTMStackFS. Please refer to the following guidelines:

**Required Ports:**

- **Port: 22/TCP**
  - Purpose: Secure Shell (We recommend creating a firewall rule to allow it only from the admin workstation).

- **Port: 80/TCP**
  - Purpose: UTMStack Web-based Graphical User Interface Redirector (We recommend creating a firewall rule to allow it only from admin and security analyst workstations).

- **Port: 443/TCP**
  - Purpose: UTMStack Web-based Graphical User Interface (We recommend creating a firewall rule to allow it only from admin and security analyst workstations).

### Step 5:  Installing and Configuring an SSL/TLS certificate
Go to [Configuring an SSL/TLS certificate](../Installation/ssl_certificate) section for detailed instructions.


> **ðŸ’¡ Tip:** Follow the prompts and provide the necessary information during the installation process.


### Step 6: Accessing the UTMStackFS Platform
Once you have successfully installed the server, you can now access the platform and start using it for your cybersecurity needs. Follow these steps to log in to the UTMStackFS platform:

Open your preferred web browser.

Enter the HTTPS URL of your server's name or IP address in the browser's address bar. For example, if your server's IP address is 192.168.0.100, you would enter https://192.168.0.100.

Press Enter to load the UTMStackFS login page.

<img
  width="300"
  height="200"
  noZoom
  className="block rounded-xl"
  src="/images/setup guide/login_utmstack.png"
  alt="Access the Threat Management Menu"
/>

Once UTMStackFS is installed, use admin as the user and the password generated during the installation for the default user to login. You can find the password and other generated configurations in /root/utmstack.yml


> **Note:** Use HTTPS in front of your server name or IP to access the login page.



> **Note:** Click on the "Sign In" button to authenticate and access the UTMStackFS platform.
